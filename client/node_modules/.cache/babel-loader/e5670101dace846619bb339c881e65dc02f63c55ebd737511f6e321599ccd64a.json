{"ast":null,"code":"import React,{Fragment,useEffect}from\"react\";import{Link}from\"react-router-dom\";import{connect}from\"react-redux\";import Spinner from\"../layout/Spinner\";import DashboardActions from\"./DashboardActions\";import Experience from\"./Experience\";import Education from\"./Education\";import{deleteAccount,getCurrentProfile}from\"../../actions/profile\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Dashboard=function Dashboard(_ref){var getCurrentProfile=_ref.getCurrentProfile,deleteAccount=_ref.deleteAccount,user=_ref.auth.user,_ref$profile=_ref.profile,profile=_ref$profile.profile,loading=_ref$profile.loading;useEffect(function(){getCurrentProfile();},[getCurrentProfile]);return loading&&profile===null?/*#__PURE__*/_jsx(Spinner,{}):/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"pl-20 bg-slate-100\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\" text-slate-700 text-4xl font-bold py-4\",children:\"Dashboard\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"py-4 text-lg\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user\"}),\" Welcome \",user&&user.name]}),profile!==null?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(DashboardActions,{}),/*#__PURE__*/_jsx(Experience,{experience:profile.experience}),/*#__PURE__*/_jsx(Education,{education:profile.education}),/*#__PURE__*/_jsx(\"div\",{className:\"py-10\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-error\",onClick:deleteAccount,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user-minus\"}),\" Delete My Account\"]})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"pt-5 pb-10\",children:\"You have not yet setup a profile, please add some info\"}),/*#__PURE__*/_jsx(Link,{to:\"/create-profile\",className:\"btn btn-outline my-1\",children:\"Create Profile\"})]})]})});};var mapStateToProps=function mapStateToProps(state){return{auth:state.auth,profile:state.profile};};export default connect(mapStateToProps,{getCurrentProfile:getCurrentProfile,deleteAccount:deleteAccount})(Dashboard);","map":{"version":3,"names":["React","Fragment","useEffect","Link","connect","Spinner","DashboardActions","Experience","Education","deleteAccount","getCurrentProfile","jsx","_jsx","jsxs","_jsxs","_Fragment","Dashboard","_ref","user","auth","_ref$profile","profile","loading","children","className","name","experience","education","onClick","to","mapStateToProps","state"],"sources":["/Users/yemengchen/Desktop/MERN_Practice/client/src/components/dashboard/Dashboard.js"],"sourcesContent":["import React, { Fragment, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport Spinner from \"../layout/Spinner\";\nimport DashboardActions from \"./DashboardActions\";\nimport Experience from \"./Experience\";\nimport Education from \"./Education\";\nimport { deleteAccount, getCurrentProfile } from \"../../actions/profile\";\n\nconst Dashboard = ({\n  getCurrentProfile,\n  deleteAccount,\n  auth: { user },\n  profile: { profile, loading },\n}) => {\n  useEffect(() => {\n    getCurrentProfile();\n  }, [getCurrentProfile]);\n  return loading && profile === null ? (\n    <Spinner />\n  ) : (\n    <Fragment>\n      <div className=\"pl-20 bg-slate-100\">\n        <h1 className=\" text-slate-700 text-4xl font-bold py-4\">Dashboard</h1>\n        <p className=\"py-4 text-lg\">\n          <i className=\"fas fa-user\"></i> Welcome {user && user.name}\n        </p>\n        {profile !== null ? (\n          <>\n            <DashboardActions />\n            <Experience experience={profile.experience} />\n            <Education education={profile.education} />\n            <div className=\"py-10\">\n              <button className=\"btn btn-error\" onClick={deleteAccount}>\n                <i className=\"fas fa-user-minus\"></i> Delete My Account\n              </button>\n            </div>\n          </>\n        ) : (\n          <div className=\"min-h-screen\">\n            <p className=\"pt-5 pb-10\">\n              You have not yet setup a profile, please add some info\n            </p>\n            <Link to=\"/create-profile\" className=\"btn btn-outline my-1\">\n              Create Profile\n            </Link>\n          </div>\n        )}\n      </div>\n    </Fragment>\n  );\n};\n\nDashboard.propTypes = {\n  getCurrentProfile: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  profile: PropTypes.object.isRequired,\n  deleteAccount: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  auth: state.auth,\n  profile: state.profile,\n});\n\nexport default connect(mapStateToProps, { getCurrentProfile, deleteAccount })(\n  Dashboard\n);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}