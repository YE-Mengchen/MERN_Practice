{"ast":null,"code":"import _toConsumableArray from\"/Users/yemengchen/Desktop/MERN_Practice/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/yemengchen/Desktop/MERN_Practice/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{GET_POSTS,POST_ERROR,UPDATE_LIKES,DELETE_POST,ADD_POST,GET_POST,ADD_COMMENT,REMOVE_COMMENT}from'../actions/types';var initialState={posts:[],post:null,loading:true,error:{}};function postReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;var type=action.type,payload=action.payload;switch(type){case GET_POSTS:return _objectSpread(_objectSpread({},state),{},{posts:payload,loading:false});case GET_POST:return _objectSpread(_objectSpread({},state),{},{post:payload,loading:false});case ADD_POST:return _objectSpread(_objectSpread({},state),{},{posts:[payload].concat(_toConsumableArray(state.posts)),loading:false});case DELETE_POST:return _objectSpread(_objectSpread({},state),{},{posts:state.posts.filter(function(post){return post._id!==payload;}),loading:false});case POST_ERROR:return _objectSpread(_objectSpread({},state),{},{error:payload,loading:false});case UPDATE_LIKES:return _objectSpread(_objectSpread({},state),{},{posts:state.posts.map(function(post){return post._id===payload.id?_objectSpread(_objectSpread({},post),{},{likes:payload.likes}):post;}),loading:false});case ADD_COMMENT:return _objectSpread(_objectSpread({},state),{},{post:_objectSpread(_objectSpread({},state.post),{},{comments:payload}),loading:false});case REMOVE_COMMENT:return _objectSpread(_objectSpread({},state),{},{post:_objectSpread(_objectSpread({},state.post),{},{comments:state.post.comments.filter(function(comment){return comment._id!==payload;})}),loading:false});default:return state;}}export default postReducer;","map":{"version":3,"names":["GET_POSTS","POST_ERROR","UPDATE_LIKES","DELETE_POST","ADD_POST","GET_POST","ADD_COMMENT","REMOVE_COMMENT","initialState","posts","post","loading","error","postReducer","state","arguments","length","undefined","action","type","payload","_objectSpread","concat","_toConsumableArray","filter","_id","map","id","likes","comments","comment"],"sources":["/Users/yemengchen/Desktop/MERN_Practice/client/src/reducers/post.js"],"sourcesContent":["import {\n    GET_POSTS,\n    POST_ERROR,\n    UPDATE_LIKES,\n    DELETE_POST,\n    ADD_POST,\n    GET_POST,\n    ADD_COMMENT,\n    REMOVE_COMMENT\n} from '../actions/types';\n\n\nconst initialState = {\n    posts: [],\n    post: null,\n    loading: true,\n    error:{}\n}\n\nfunction postReducer(state = initialState, action){\n    const {type, payload} = action;\n    switch(type){\n        case GET_POSTS:\n            return {\n                ...state,\n                posts:payload,\n                loading:false\n            };\n\n        case GET_POST:\n            return {\n                ...state,\n                post: payload,\n                loading: false\n            };\n        case ADD_POST:\n            return {\n                  ...state,\n                  posts: [payload, ...state.posts],\n                  loading: false\n                };\n        case DELETE_POST:\n            return {\n                ...state,\n                posts: state.posts.filter(post => post._id !== payload),\n                loading: false\n            };\n        case POST_ERROR:\n            return {\n                ...state,\n                error:payload,\n                loading:false\n            };\n        case UPDATE_LIKES:\n            return {\n            ...state,\n            posts: state.posts.map((post) =>\n                post._id === payload.id ? { ...post, likes: payload.likes } : post\n            ),\n            loading: false\n            };\n        case ADD_COMMENT:\n            return {\n                ...state,\n                post: {...state.post, comments: payload },\n                loading: false\n            }\n        case REMOVE_COMMENT:\n            return {\n                ...state,\n                post: {\n                    ...state.post, \n                    comments: state.post.comments.filter(comment => comment._id !== payload)\n                },\n                loading: false\n            }\n        default:\n            return state;\n\n    }\n}\n\nexport default postReducer;"],"mappings":"+QAAA,OACIA,SAAS,CACTC,UAAU,CACVC,YAAY,CACZC,WAAW,CACXC,QAAQ,CACRC,QAAQ,CACRC,WAAW,CACXC,cAAc,KACX,kBAAkB,CAGzB,GAAM,CAAAC,YAAY,CAAG,CACjBC,KAAK,CAAE,EAAE,CACTC,IAAI,CAAE,IAAI,CACVC,OAAO,CAAE,IAAI,CACbC,KAAK,CAAC,CAAC,CACX,CAAC,CAED,QAAS,CAAAC,WAAWA,CAAA,CAA8B,IAA7B,CAAAC,KAAK,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAGP,YAAY,IAAE,CAAAU,MAAM,CAAAH,SAAA,CAAAC,MAAA,GAAAD,SAAA,IAAAE,SAAA,CAC7C,GAAO,CAAAE,IAAI,CAAaD,MAAM,CAAvBC,IAAI,CAAEC,OAAO,CAAIF,MAAM,CAAjBE,OAAO,CACpB,OAAOD,IAAI,EACP,IAAK,CAAAnB,SAAS,CACV,OAAAqB,aAAA,CAAAA,aAAA,IACOP,KAAK,MACRL,KAAK,CAACW,OAAO,CACbT,OAAO,CAAC,KAAK,GAGrB,IAAK,CAAAN,QAAQ,CACT,OAAAgB,aAAA,CAAAA,aAAA,IACOP,KAAK,MACRJ,IAAI,CAAEU,OAAO,CACbT,OAAO,CAAE,KAAK,GAEtB,IAAK,CAAAP,QAAQ,CACT,OAAAiB,aAAA,CAAAA,aAAA,IACSP,KAAK,MACRL,KAAK,EAAGW,OAAO,EAAAE,MAAA,CAAAC,kBAAA,CAAKT,KAAK,CAACL,KAAK,EAAC,CAChCE,OAAO,CAAE,KAAK,GAExB,IAAK,CAAAR,WAAW,CACZ,OAAAkB,aAAA,CAAAA,aAAA,IACOP,KAAK,MACRL,KAAK,CAAEK,KAAK,CAACL,KAAK,CAACe,MAAM,CAAC,SAAAd,IAAI,QAAI,CAAAA,IAAI,CAACe,GAAG,GAAKL,OAAO,GAAC,CACvDT,OAAO,CAAE,KAAK,GAEtB,IAAK,CAAAV,UAAU,CACX,OAAAoB,aAAA,CAAAA,aAAA,IACOP,KAAK,MACRF,KAAK,CAACQ,OAAO,CACbT,OAAO,CAAC,KAAK,GAErB,IAAK,CAAAT,YAAY,CACb,OAAAmB,aAAA,CAAAA,aAAA,IACGP,KAAK,MACRL,KAAK,CAAEK,KAAK,CAACL,KAAK,CAACiB,GAAG,CAAC,SAAChB,IAAI,QACxB,CAAAA,IAAI,CAACe,GAAG,GAAKL,OAAO,CAACO,EAAE,CAAAN,aAAA,CAAAA,aAAA,IAAQX,IAAI,MAAEkB,KAAK,CAAER,OAAO,CAACQ,KAAK,GAAKlB,IAAI,EACtE,CAAC,CACDC,OAAO,CAAE,KAAK,GAElB,IAAK,CAAAL,WAAW,CACZ,OAAAe,aAAA,CAAAA,aAAA,IACOP,KAAK,MACRJ,IAAI,CAAAW,aAAA,CAAAA,aAAA,IAAMP,KAAK,CAACJ,IAAI,MAAEmB,QAAQ,CAAET,OAAO,EAAE,CACzCT,OAAO,CAAE,KAAK,GAEtB,IAAK,CAAAJ,cAAc,CACf,OAAAc,aAAA,CAAAA,aAAA,IACOP,KAAK,MACRJ,IAAI,CAAAW,aAAA,CAAAA,aAAA,IACGP,KAAK,CAACJ,IAAI,MACbmB,QAAQ,CAAEf,KAAK,CAACJ,IAAI,CAACmB,QAAQ,CAACL,MAAM,CAAC,SAAAM,OAAO,QAAI,CAAAA,OAAO,CAACL,GAAG,GAAKL,OAAO,GAAC,EAC3E,CACDT,OAAO,CAAE,KAAK,GAEtB,QACI,MAAO,CAAAG,KAAK,CAEpB,CACJ,CAEA,cAAe,CAAAD,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}