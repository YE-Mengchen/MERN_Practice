{"ast":null,"code":"import React from\"react\";import{Link}from\"react-router-dom\";import Moment from\"react-moment\";import{connect}from\"react-redux\";import{addLike,removeLike,deletePost}from\"../../actions/post\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PostItem=function PostItem(_ref){var addLike=_ref.addLike,removeLike=_ref.removeLike,deletePost=_ref.deletePost,auth=_ref.auth,_ref$post=_ref.post,_id=_ref$post._id,text=_ref$post.text,name=_ref$post.name,avatar=_ref$post.avatar,user=_ref$post.user,likes=_ref$post.likes,comments=_ref$post.comments,date=_ref$post.date,showActions=_ref.showActions;return/*#__PURE__*/_jsx(\"div\",{className:\" bg-white p-2 my-4 w-3/4 border-solid border-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"chat chat-start py-12 flex flex-col space-y-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chat-header\",children:[name,\"  \",/*#__PURE__*/_jsx(\"time\",{className:\"text-xs opacity-50\",children:/*#__PURE__*/_jsx(Moment,{format:\"YYYY/MM/DD\",children:date})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"chat-bubble\",children:text}),/*#__PURE__*/_jsxs(\"div\",{className:\"chat-footer opacity-50 flex flex-row space-x-2 \",children:[\" \",showActions&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return addLike(_id);},type:\"button\",className:\" bg-white\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-thumbs-up transition duration-1000 ease-in-out transform hover:scale-125\"}),\" \",/*#__PURE__*/_jsx(\"span\",{children:likes.length>0&&/*#__PURE__*/_jsx(\"span\",{children:likes.length})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return removeLike(_id);},type:\"button\",className:\"bg-white\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-thumbs-down transition duration-1000 ease-in-out transform hover:scale-125\"})}),/*#__PURE__*/_jsxs(Link,{to:\"/posts/\".concat(_id),className:\"btn btn-outline btn-xs transition duration-1000 ease-in-out transform hover:scale-110\",children:[\"Discussion\",\" \",comments.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"comment-count\",children:comments.length})]}),!auth.loading&&user===auth.user._id&&/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return deletePost(_id);},type:\"button\",className:\"transition duration-1000 ease-in-out transform hover:scale-125\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\"})})]})]})]})});};PostItem.defaultProps={showActions:true};var mapStateToProps=function mapStateToProps(state){return{auth:state.auth};};export default connect(mapStateToProps,{addLike:addLike,removeLike:removeLike,deletePost:deletePost})(PostItem);","map":{"version":3,"names":["React","Link","Moment","connect","addLike","removeLike","deletePost","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PostItem","_ref","auth","_ref$post","post","_id","text","name","avatar","user","likes","comments","date","showActions","className","children","format","onClick","type","length","to","concat","loading","defaultProps","mapStateToProps","state"],"sources":["/Users/yemengchen/Desktop/MERN_Practice/client/src/components/posts/PostItem.js"],"sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Link } from \"react-router-dom\";\nimport Moment from \"react-moment\";\nimport { connect } from \"react-redux\";\nimport { addLike, removeLike, deletePost } from \"../../actions/post\";\n\nconst PostItem = ({\n  addLike,\n  removeLike,\n  deletePost,\n  auth,\n  post: { _id, text, name, avatar, user, likes, comments, date },\n  showActions,\n}) => {\n  return (\n    <div className=\" bg-white p-2 my-4 w-3/4 border-solid border-8\">\n      <div className=\"chat chat-start py-12 flex flex-col space-y-1\">\n        <div className=\"chat-header\">\n          {name}\n          {\"  \"}\n          <time className=\"text-xs opacity-50\">\n            <Moment format=\"YYYY/MM/DD\">{date}</Moment>\n          </time>\n        </div>\n        <div className=\"chat-bubble\">{text}</div>\n        <div className=\"chat-footer opacity-50 flex flex-row space-x-2 \">\n          {\" \"}\n          {showActions && (\n            <>\n              <button\n                onClick={() => addLike(_id)}\n                type=\"button\"\n                className=\" bg-white\"\n              >\n                <i className=\"fas fa-thumbs-up transition duration-1000 ease-in-out transform hover:scale-125\" />{\" \"}\n                <span>{likes.length > 0 && <span>{likes.length}</span>}</span>\n              </button>\n              <button\n                onClick={() => removeLike(_id)}\n                type=\"button\"\n                className=\"bg-white\"\n              >\n                <i className=\"fas fa-thumbs-down transition duration-1000 ease-in-out transform hover:scale-125\" />\n              </button>\n              <Link\n                to={`/posts/${_id}`}\n                className=\"btn btn-outline btn-xs transition duration-1000 ease-in-out transform hover:scale-110\"\n              >\n                Discussion{\" \"}\n                {comments.length > 0 && (\n                  <span className=\"comment-count\">{comments.length}</span>\n                )}\n              </Link>\n              {!auth.loading && user === auth.user._id && (\n                <button\n                  onClick={() => deletePost(_id)}\n                  type=\"button\"\n                  className=\"transition duration-1000 ease-in-out transform hover:scale-125\"\n                >\n                  <i className=\"fas fa-times\" />\n                </button>\n              )}\n            </>\n          )}\n        </div>\n      </div>\n      {/* <div>\n\n        {showActions && (\n          <>\n            <button\n              onClick={() => addLike(_id)}\n              type=\"button\"\n              className=\"btn btn-light\"\n            >\n              <i className=\"fas fa-thumbs-up\" />{\" \"}\n              <span>{likes.length > 0 && <span>{likes.length}</span>}</span>\n            </button>\n            <button\n              onClick={() => removeLike(_id)}\n              type=\"button\"\n              className=\"btn btn-light\"\n            >\n              <i className=\"fas fa-thumbs-down\" />\n            </button>\n            <Link to={`/posts/${_id}`} className=\"btn btn-primary\">\n              Discussion{\" \"}\n              {comments.length > 0 && (\n                <span className=\"comment-count\">{comments.length}</span>\n              )}\n            </Link>\n            {!auth.loading && user === auth.user._id && (\n              <button\n                onClick={() => deletePost(_id)}\n                type=\"button\"\n                className=\"btn btn-danger\"\n              >\n                <i className=\"fas fa-times\" />\n              </button>\n            )}\n          </>\n        )}\n      </div> */}\n    </div>\n  );\n};\n\nPostItem.defaultProps = {\n  showActions: true,\n};\n\nPostItem.propTypes = {\n  post: PropTypes.object.isRequired,\n  auth: PropTypes.object.isRequired,\n  addLike: PropTypes.func.isRequired,\n  removeLike: PropTypes.func.isRequired,\n  deletePost: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  auth: state.auth,\n});\n\nexport default connect(mapStateToProps, { addLike, removeLike, deletePost })(\n  PostItem\n);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}